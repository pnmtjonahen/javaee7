<!--
Copyright (C) 2013 Philippe Tjon-A-Hen philippe@tjonahen.nl

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->


<div class="container">
    <div class="page-header">
        <h1>Sales Order</h1>
    </div>
    <form name="salesOrderForm" ng-controller="SalesOrderDetailCtrl">
        <label>SalesOrderLines:</label>
        <table class="table table-hover">
            <tr><th>#</th><th>number</th><th>price</th><th>name</th><th>description</th><th>action</th></tr>
            <tr ng-repeat="salesOrderLine in salesOrder.salesOrderLineCollection.salesOrderLine">
                <td>{{salesOrderLine.id}}</td>
                <td><input name="number" type="number" ng-model="salesOrderLine.number" required /></td>
                <td><input type="number" ng-model="salesOrderLine.price" required/></td>
                <td><input type="text" ng-model="salesOrderLine.product.name" required/></td>
                <td><input type="text" ng-model="salesOrderLine.product.description" required/></td>
                <td><button class="btn btn-warning" ng-click="removeSalesOrderLine(salesOrderLine)">Delete</button></td>
            </tr>
        </table>
        <p>
            <button class="btn btn-primary" ng-disabled="salesOrderForm.$invalid" ng-click="addSalesOrderLine()">Add OrderLine</button>
            <a href="#/orders" class="btn">Cancel</a>
            <button class="btn" ng-disabled="salesOrderForm.$invalid" ng-click="saveSalesOrder()">Save Order</button>
        </p>
        <br/>{{saveMessage}}
        <hr/>
        Debug View:
        <pre>salesOrder={{salesOrder | json}}</pre>
        <pre>salesOrderForm.error = {{salesOrderForm.$error}}</pre>
        <pre>salesOrderForm.valid = {{salesOrderForm.$valid}}</pre>        
    </form>                
</div>

